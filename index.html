<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë–¡ìë°©ë²”ëŒ€ ì •ë³´ ì„¼í„°</title>
  <style>
    :root{
      --card:#ffffff; --ink:#0f172a; --muted:#475569; --accent:#22c55e; --border:#e5e7eb;
      --company:#3b82f6; --civil:#16a34a; --org:#8b5cf6; --magazine:#f97316;
      --up:#16a34a; --down:#dc2626; --e:cubic-bezier(.22,.9,.24,1);
    }
    html { box-sizing: border-box; font-size:17px; overflow-y:scroll; }
    *, *::before, *::after { box-sizing: inherit; }
    body{margin:0;font-family:"Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:var(--ink);background:#f0fdf4;line-height:1.6}

    /* í—¤ë” */
    header{background:#fff;border-bottom:1px solid var(--border);padding:20px;text-align:center;box-shadow:0 2px 6px rgba(0,0,0,.05)}
    header h1{margin:0;font-size:30px;color:var(--accent);font-weight:900;cursor:pointer;transition:transform .2s var(--e)}
    header h1:hover{transform:scale(1.02)}

    /* ë ˆì´ì•„ì›ƒ */
    .layout{display:grid;grid-template-columns:300px 1fr 300px;column-gap:40px;row-gap:24px;max-width:1600px;margin:20px auto;padding:0 30px}
    main{display:flex;flex-direction:column;gap:20px}

    /* ì¢Œìš° ì‚¬ì´ë“œ */
    aside{background:var(--card);border-radius:14px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.06);position:sticky;top:20px;height:500px;overflow-y:auto}
    aside h3{margin:0 0 12px;color:var(--accent);font-size:16px;font-weight:700}
    aside ul{margin:0;padding-left:18px}
    aside li{margin-bottom:6px}
    .aside-box{margin-bottom:20px;padding:12px;border-radius:10px;background:#fff}
    .aside-box h3{margin:0 0 10px;font-size:16px;font-weight:700;color:var(--accent)}

    /* íˆì–´ë¡œ */
    .hero{text-align:center;padding:40px;border-radius:16px;background:linear-gradient(135deg,#bbf7d0,#ecfdf5);box-shadow:0 6px 16px rgba(0,0,0,.08);margin:20px 0;animation:fadeIn .35s var(--e)}
    .hero h2{margin:0 0 14px;color:var(--accent);font-size:26px;font-weight:800}
    .hero p{font-size:16px;color:#374151}

    /* ìƒë‹¨ ë„¤ë¹„ ì¹´ë“œ */
    .nav-parts{display:flex;justify-content:center;gap:24px;margin:20px auto;flex-wrap:wrap}
    .nav-card{flex:1;min-width:150px;max-width:200px;background:linear-gradient(135deg,#dcfce7,#f0fdf4);padding:22px 16px;text-align:center;border-radius:16px;box-shadow:0 6px 14px rgba(0,0,0,.08);cursor:pointer;transition:transform .25s var(--e), box-shadow .25s var(--e)}
    .nav-card:hover{transform:translateY(-6px);box-shadow:0 10px 24px rgba(0,0,0,.12)}
    .nav-card .icon{font-size:28px;margin-bottom:10px}
    .nav-card h3{margin:0;font-size:18px;color:var(--accent);font-weight:700}

    /* í˜ì´ì§€ */
    section.page{display:none;padding:28px;background:var(--card);border-radius:14px;box-shadow:0 4px 12px rgba(0,0,0,.05)}
    section.page.active{display:block;animation:pageIn .28s var(--e)}
    section h2{margin:0 0 16px;color:var(--accent);font-size:21px;font-weight:700}

    /* ì¹´í…Œê³ ë¦¬ íƒ­ ë²„íŠ¼ */
    .sub-nav{display:flex;gap:12px;margin:20px 0;flex-wrap:wrap}
    .sub-nav button{padding:10px 18px;border:none;border-radius:8px;background:#d1fae5;color:#065f46;font-size:15px;font-weight:700;cursor:pointer;transition:transform .18s var(--e), filter .18s var(--e)}
    .sub-nav button:hover{filter:brightness(.96); transform:translateY(-2px)}
    .sub-nav button.active{background:#16a34a;color:#fff;}

    .sub-page{display:none;margin-top:16px}
    .sub-page.active{display:block;animation:fadeIn .25s var(--e)}

    /* í‘œ */
    table{width:100%;border-collapse:separate;border-spacing:0;margin:10px 0 24px 0;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.05)}
    th,td{padding:12px 14px;border-bottom:1px solid #eef2f7;font-size:15px}
    th{background:#f8fafc;color:#0f172a;text-align:left}
    tr:last-child td{border-bottom:none}

    /* ì°¨ëŸ‰ íŒë§¤ ì¹´ë“œ */
    .car-sale-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;margin-top:20px}
    .car-card{background:#fff;border-radius:16px;padding:20px;box-shadow:0 6px 16px rgba(0,0,0,.08);text-align:center;cursor:pointer;transition:transform .25s var(--e), box-shadow .25s var(--e);border:2px solid transparent;animation:fadeInUp .4s ease forwards;}
    .car-card:hover{transform:translateY(-6px);box-shadow:0 10px 24px rgba(0,0,0,.12);border-color:var(--accent);}
    .car-card .icon{font-size:36px;margin-bottom:8px}
    .car-card h4{margin:0 0 6px;font-size:18px;font-weight:800;color:var(--accent)}
    .car-card .price{display:inline-block;background:#dcfce7;color:#065f46;font-weight:700;font-size:16px;padding:6px 14px;border-radius:50px}

    /* ëª¨ë‹¬ */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(15,23,42,.45);backdrop-filter:saturate(1.2) blur(2px);z-index:50}
    .modal.show{display:flex;animation:fadeIn .2s var(--e)}
    .modal-content{position:relative;width:min(680px,92vw);max-height:85vh;overflow:auto;background:#fff;border-radius:16px;padding:22px 20px;box-shadow:0 20px 60px rgba(0,0,0,.25);animation:zoomFade .24s var(--e)}
    .modal-close{position:absolute;right:12px;top:10px;border:none;background:#f1f5f9;border-radius:8px;padding:6px 10px;cursor:pointer}
    .modal h2{margin:0 0 6px;font-size:22px;color:#111827}
    .tagline{margin:0 0 12px;color:#16a34a;font-weight:700}

    .modal-nav{display:flex;gap:8px;margin:10px 0 14px}
    .modal-nav button{border:none;background:#e2e8f0;color:#0f172a;padding:8px 12px;border-radius:8px;font-weight:700;cursor:pointer}
    .modal-nav button:hover{filter:brightness(.96)}
    .modal-tab{display:none}
    .modal-tab.active{display:block}
    #modalOrgList,#modalProdList{list-style:none;margin:0;padding:0}
    #modalOrgList li{padding:6px 2px}
    .org-title{font-weight:900;color:#0f172a}
    .org-section{margin:6px 0 4px 0;color:#2563eb;font-weight:800}
    .org-item .dot{display:inline-block;width:6px;height:6px;border-radius:50%;background:#a7f3d0;margin-right:8px;transform:translateY(-1px)}
    .org-total{margin-top:6px;font-weight:800;color:#059669}

    .prod-card{border:1px solid #e5e7eb;border-radius:12px;padding:12px 14px;margin:8px 0;box-shadow:0 1px 4px rgba(0,0,0,.04);animation:fadeInUp .32s var(--e)}
    .prod-title{font-weight:900}
    .prod-price{color:#047857;font-weight:900}
    .prod-note{color:#6b7280;font-size:13px;margin-top:4px}

    /* ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes fadeIn{from{opacity:0;transform:translateY(4px)} to{opacity:1;transform:none}}
    @keyframes pageIn{from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:none}}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:none}}
    @keyframes zoomFade{from{opacity:0;transform:scale(.95)} to{opacity:1;transform:scale(1)}}
  </style>
</head>
<body>
  <header><h1 onclick="showPage('home')">ë–¡ìë°©ë²”ëŒ€ ì •ë³´ ì„¼í„°</h1></header>

  <div class="layout">
    <!-- ì™¼ìª½ -->
    <aside>
      <div class="aside-box">
        <h3>ğŸ“¢ ê³µì§€ì‚¬í•­</h3>
        <ul>
          <li>ë–¡ìë°©ë²”ëŒ€ ì •ë³´ ì„¼í„° OPEN</li>
          <li>ë–¡ìë°©ë²”ëŒ€ íˆ¬ì ì„¼í„° ë¦¬ë‰´ì–¼</li>
          <li>ğŸ™ë¬¸ì˜: 703 ê¹€ë‚¨ì •, ë””ì½” DM</li>
        </ul>
      </div>
      <div class="aside-box">
        <h3>ğŸ‰ ë‹¤ê°€ì˜¤ëŠ” ì´ë²¤íŠ¸</h3>
        <ul>
          <li>ğŸ´ ì‘ë‘ í˜¸ìŠ¤íŠ¸ë°”</li>
          <li>ğŸ€ ë–¡ìë°©ë²”ëŒ€ ì´ë²¤íŠ¸</li>
          <li>ğŸ’ ì •ë¶€ì¥, ì›ë‘ ê²°í˜¼ì‹</li>
        </ul>
      </div>
    </aside>

    <!-- ì¤‘ì•™ -->
    <main>
      <div class="nav-parts">
        <div class="nav-card" onclick="showPage('home')"><div class="icon">ğŸ </div><h3>í™ˆ</h3></div>
        <div class="nav-card" onclick="showPage('market')"><div class="icon">ğŸ¥•</div><h3>ë‹¹ê·¼ë§ˆì¼“</h3></div>
        <div class="nav-card" onclick="showPage('category')"><div class="icon">ğŸ“‚</div><h3>ì¹´í…Œê³ ë¦¬</h3></div>
        <div class="nav-card" onclick="showPage('stats')"><div class="icon">ğŸ“ˆ</div><h3>ê±°ë˜ í†µê³„</h3></div>
      </div>

      <div class="hero"><h2>ğŸ“Š ì •ë³´ ì„¼í„°</h2><p>ë¦¬ì–¼ì›”ë“œì˜ ì•„ì´í…œ ì‹œì„¸ì™€ ì¡°ì§ ì •ë³´ë¥¼ í•œëˆˆì—!</p></div>

      <!-- í™ˆ (ë¹„ì›Œë‘ : í•„ìš”ì‹œ ì¶”ê°€) -->
      <section id="home" class="page active">
        <h2>ğŸ  í™ˆ</h2>
        <p>ìƒë‹¨ ë„¤ë¹„ë¥¼ ëˆŒëŸ¬ ì´ë™í•˜ì„¸ìš”.</p>
      </section>

      <!-- ë‹¹ê·¼ë§ˆì¼“ (ê°„ë‹¨ ë„ì›€ë§ë§Œ) -->
      <section id="market" class="page">
        <h2>ğŸ¥• ë‹¹ê·¼ë§ˆì¼“</h2>
        <button onclick="openHelp('market')">ë„ì›€ë§ ë³´ê¸°</button>
      </section>

      <!-- ì¹´í…Œê³ ë¦¬ (ë‹¨ í•˜ë‚˜) -->
      <section id="category" class="page">
        <h2>ğŸ“‚ ì¹´í…Œê³ ë¦¬ & ì°¨ëŸ‰ ì‹œì„¸</h2>

        <!-- íƒ­ ë²„íŠ¼ -->
        <div class="sub-nav">
          <button onclick="showCatTab('categories')" id="catBtn-categories" class="active">ì¹´í…Œê³ ë¦¬ë³„ ì‹œì„¸í‘œ</button>
          <button onclick="showCatTab('cars')" id="catBtn-cars">ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ</button>
        </div>

        <!-- ì¹´í…Œê³ ë¦¬ë³„ ì‹œì„¸í‘œ íƒ­ -->
        <div id="catTab-categories" class="sub-page active">
          <div class="sub-nav" style="gap:8px">
            <button onclick="scrollToSection('chair')">ğŸª‘ ì˜ì</button>
            <button onclick="scrollToSection('support-car')">ğŸš— í›„ì› ì°¨ëŸ‰</button>
            <button onclick="scrollToSection('island-car')">ğŸ ê·¹ë½ë„ ì°¨ëŸ‰</button>
            <button onclick="scrollToSection('effect')">âœ¨ ì´í™íŠ¸</button>
            <button onclick="scrollToSection('skin')">ğŸ­ ìŠ¤í‚¨</button>
            <button onclick="scrollToSection('dance')">ğŸ’ƒ í–‰ë™Â·ëŒ„ìŠ¤Â·ë™ìƒ</button>
            <button onclick="scrollToSection('item')">ğŸ§° ê¸°íƒ€</button>
          </div>

          <h3 id="chair">ğŸª‘ ì˜ì ì¢…ë¥˜</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>ë‹¬ì˜ì</td><td>230ì–µ~250ì–µ</td></tr>
            <tr><td>ì»¤í”¼ì˜ì</td><td>230ì–µ~250ì–µ</td></tr>
            <tr><td>ìƒˆì¥ì˜ì</td><td>160ì–µ~190ì–µ</td></tr>
            <tr><td>êµ¬ë¦„ì˜ì</td><td>270ì–µ~300ì–µ</td></tr>
          </table>

          <h3 id="support-car">ğŸš— í›„ì› ì°¨ëŸ‰</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>M1</td><td>170ì–µ~200ì–µ</td></tr>
            <tr><td>ë¯¸ë‹ˆë°”í‹°</td><td>150ì–µ~180ì–µ</td></tr>
            <tr><td>ì´ê·¸ë„ˆìŠ¤</td><td>245ì–µ~270ì–µ</td></tr>
            <tr><td>M2</td><td>170ì–µ~200ì–µ</td></tr>
            <tr><td>ì‹œë…¸ë¹„</td><td>100ì–µ~120ì–µ</td></tr>
            <tr><td>ë„¤ë¡œ</td><td>230ì–µ~250ì–µ</td></tr>
            <tr><td>ì‡¼íƒ€ë¡œ</td><td>80ì–µ~100ì–µ</td></tr>
            <tr><td>M3</td><td>150ì–µ~200ì–µ</td></tr>
            <tr><td>í…Œì €ë™íŠ¸</td><td>270ì–µ~300ì–µ</td></tr>
            <tr><td>M4</td><td>170ì–µ~200ì–µ</td></tr>
            <tr><td>í•˜ì¿ ìµ¸ìš°</td><td>80ì–µ~110ì–µ</td></tr>
          </table>

          <h3 id="island-car">ğŸ ê·¹ë½ë„ ì°¨ëŸ‰</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>ë°”ë‚˜ë‚˜ì¹´</td><td>60ì–µ~80ì–µ</td></tr>
            <tr><td>ê³ ì–‘ì¹´</td><td>70ì–µ~100ì–µ</td></tr>
            <tr><td>í”¼ë„›ì¹´</td><td>70ì–µ~100ì–µ</td></tr>
          </table>

          <h3 id="effect">âœ¨ ì´í™íŠ¸</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>ë¶ˆì†</td><td>220ì–µ~270ì–µ</td></tr>
            <tr><td>ë¶ˆë°œ</td><td>200ì–µ~250ì–µ</td></tr>
            <tr><td>ë¦¬í”„</td><td>140ì–µ~180ì–µ</td></tr>
            <tr><td>ë²ˆê°œ</td><td>130ì–µ~150ì–µ</td></tr>
            <tr><td>ê½ƒìë¹„</td><td>250ì–µ~280ì–µ</td></tr>
          </table>

          <h3 id="skin">ğŸ­ ìŠ¤í‚¨</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>ë‹¤ë‹ˆì—˜</td><td>200ì–µ~240ì–µ</td></tr>
            <tr><td>HJ</td><td>150ì–µ~200ì–µ</td></tr>
            <tr><td>YH</td><td>140ì–µ~180ì–µ</td></tr>
            <tr><td>ë‹¤í˜œ</td><td>80ì–µ~130ì–µ</td></tr>
            <tr><td>ìœ ì</td><td>80ì–µ~130ì–µ</td></tr>
            <tr><td>ë¬¸ì‹ ë‚¨</td><td>????</td></tr>
            <tr><td>ë³‘ì•„ë¦¬</td><td>150ì–µ~180ì–µ</td></tr>
            <tr><td>ê³ ì–‘ì´</td><td>150ì–µ~180ì–µ</td></tr>
          </table>

          <h3 id="dance">ğŸ’ƒ í–‰ë™Â·ëŒ„ìŠ¤Â·ë™ìƒ</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>ë¸Œë ˆì´í¬ëŒ„ìŠ¤</td><td>10ì–µ~15ì–µ</td></tr>
            <tr><td>ì˜¤ì§•ì–´ëŒ„ìŠ¤</td><td>10ì–µ~15ì–µ</td></tr>
            <tr><td>ë¸Œë¡œí°ë ˆê·¸</td><td>5ì–µ~8ì–µ</td></tr>
            <tr><td>ë§ˆê·¸ë„¤í‹±</td><td>30ì–µ~45ì–µ</td></tr>
            <tr><td>í…”ë¯¸ëŒ„ìŠ¤</td><td>30ì–µ~40ì–µ</td></tr>
            <tr><td>ë²„ìŠ¤ì•ˆì—ì„œëŒ„ìŠ¤</td><td>6ì–µ~8ì–µ</td></tr>
            <tr><td>ìŠ¤ë§ˆíŠ¸ëŒ„ìŠ¤</td><td>30ì–µ~38ì–µ</td></tr>
            <tr><td>ì†Œë‹¤íŒëŒ„ìŠ¤</td><td>38ì–µ~46ì–µ</td></tr>
            <tr><td>íŒí•€ëŒ„ìŠ¤</td><td>5ì–µ~10ì–µ</td></tr>
            <tr><td>ìŠ¤ìº‡ì•¤ì ¤ë‹¤ëŒ„ìŠ¤</td><td>20ì–µ~28ì–µ</td></tr>
            <tr><td>ë»£ë»£ë¡œë´‡ëŒ„ìŠ¤</td><td>6ì–µ~10ì–µ</td></tr>
            <tr><td>ê³¨ë°˜í”ë“¤ê¸°</td><td>15ì–µ~20ì–µ</td></tr>
            <tr><td>í¬ë ˆì´ì§€íŠ¸ì›Œí‚¹</td><td>15ì–µ~20ì–µ</td></tr>
            <tr><td>ìŠ¬ë¦­ë°±</td><td>18ì–µ~27ì–µ</td></tr>
            <tr><td>ì´ë¦¬ì™€</td><td>5ì–µ~8ì–µ</td></tr>
            <tr><td>ì–¸ë”ë”ì”¨</td><td>5ì–µ~8ì–µ</td></tr>
            <tr><td>ìŒë»í</td><td>10ì–µ~15ì–µ</td></tr>
            <tr><td>ë§˜ë§˜</td><td>7ì–µ~11ì–µ</td></tr>
            <tr><td>íšŒì „íšŒì˜¤ë¦¬</td><td>18ì–µ~24ì–µ</td></tr>
            <tr><td>ì˜ë¦¬ëŒ„ìŠ¤</td><td>5ì–µ~10ì–µ</td></tr>
            <tr><td>í•˜íŠ¸ ë™ìƒí¬ì¦ˆ(ë‚¨)</td><td>10ì–µ~15ì–µ</td></tr>
            <tr><td>í•˜íŠ¸ ë™ìƒí¬ì¦ˆ(ì—¬)</td><td>11ì–µ~16ì–µ</td></tr>
            <tr><td>ë™ìƒí¬ì¦ˆ(ë‚¨)</td><td>10ì–µ~15ì–µ</td></tr>
            <tr><td>ë™ìƒí¬ì¦ˆ(ì—¬)</td><td>11ì–µ~15ì–µ</td></tr>
            <tr><td>ë¬´ë¦ì•‰ê¸°</td><td>7ì–µ~10ì–µ</td></tr>
            <tr><td>ì¡°ì‹ í•˜ê²Œ ì•‰ê¸°</td><td>8ì–µ~10ì–µ</td></tr>
            <tr><td>ê´´ì†ì§ˆì£¼</td><td>10ì–µ~13ì–µ</td></tr>
            <tr><td>í”ë“¤ì–´</td><td>15ì–µ~18ì–µ</td></tr>
            <tr><td>ì˜¤ì˜ˆìŠ¤</td><td>9ì–µ~15ì–µ</td></tr>
            <tr><td>ìš”ê°€í¬ì¦ˆ</td><td>13ì–µ~16ì–µ</td></tr>
            <tr><td>ëƒ„ìƒˆë‚˜</td><td>10ì–µ~15ì–µ</td></tr>
            <tr><td>ì“°ëŸ¬ì§€ê¸°</td><td>5ì–µ~7ì–µ</td></tr>
            <tr><td>ê¸°ë„í•˜ëŠ”</td><td>5ì–µ~10ì–µ</td></tr>
            <tr><td>ë‚´ë¹µë…ì´</td><td>5ì–µ~8ì–µ</td></tr>
          </table>

          <h3 id="item">ğŸ§° ê¸°íƒ€ ì•„ì´í…œ</h3>
          <table>
            <tr><th>ì•„ì´í…œ</th><th>ì‹œì„¸</th></tr>
            <tr><td>ë¡¤ëŸ¬</td><td>60ì–µ~80ì–µ</td></tr>
            <tr><td>í« ì…ì–‘ê¶Œ</td><td>160ì–µ~200ì–µ</td></tr>
          </table>
        </div>

        <!-- ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ íƒ­ -->
        <div id="catTab-cars" class="sub-page">
          <h3>ğŸš— ì°¨ëŸ‰ íŒë§¤ ì‹œì„¸í‘œ</h3>
          <div class="car-sale-grid" id="carGrid">
            <!-- JSì—ì„œ ìƒì„± -->
          </div>
        </div>
      </section>

      <!-- ê±°ë˜ í†µê³„ -->
      <section id="stats" class="page">
        <h2>ğŸ“ˆ ê±°ë˜ í†µê³„</h2>
        <table id="itemTable">
          <thead><tr><th>ì•„ì´í…œ</th><th>ê±°ë˜ëŸ‰</th><th>í‰ê· ê°€</th><th>ë³€ë™</th></tr></thead>
          <tbody></tbody>
        </table>
      </section>
    </main>

    <!-- ì˜¤ë¥¸ìª½ -->
    <aside>
      <h3>ğŸ”¥ ì¸ê¸° TOP 5</h3>
      <ul id="topList"></ul>
      <h3>â° ì‹¤ì‹œê°„ ì•Œë¦¼</h3>
      <ul><li>-</li></ul>
    </aside>
  </div>

  <!-- ===== ëª¨ë‹¬ ì˜ì—­ ===== -->
  <!-- ì—”í‹°í‹° ëª¨ë‹¬ -->
  <div id="modal" class="modal" aria-hidden="true">
    <div id="modalContent" class="modal-content">
      <button class="modal-close" onclick="closeModal()">âœ–</button>
      <h2 id="modalTitle"></h2>
      <p id="modalTagline" class="tagline"></p>

      <div class="modal-nav">
        <button onclick="showModalTab('org')" data-tab="org">ì¡°ì§ë„</button>
        <button onclick="showModalTab('products')" data-tab="products">ì œí’ˆ</button>
        <button onclick="showModalTab('info')" data-tab="info">ì •ë³´</button>
      </div>

      <div id="modal-org" class="modal-tab active">
        <ul id="modalOrgList"></ul>
      </div>

      <div id="modal-products" class="modal-tab">
        <ul id="modalProdList"></ul>
      </div>

      <div id="modal-info" class="modal-tab">
        <div id="modalInfoText"></div>
      </div>
    </div>
  </div>

  <!-- ì°¨ëŸ‰ ëª¨ë‹¬ -->
  <div id="carModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" onclick="closeCarModal()">âœ–</button>
      <h2 id="carModalTitle">ì°¨ëŸ‰</h2>
      <p id="carModalPrice"></p>
      <p id="carModalDesc"></p>
    </div>
  </div>

  <!-- ì‚¬ì—° ëª¨ë‹¬ -->
  <div id="storyModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" onclick="closeStory()">âœ–</button>
      <h2 id="sModalTitle"></h2>
      <p id="sModalMeta"></p>
      <p id="sModalCat"></p>
      <p id="sModalSong"></p>
      <p id="sModalBody"></p>
    </div>
  </div>

  <!-- ë„ì›€ë§ ëª¨ë‹¬ -->
  <div id="helpModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" onclick="closeHelp()">âœ–</button>
      <h2 id="helpTitle"></h2>
      <p id="helpTagline"></p>
      <div id="helpContent"></div>
    </div>
  </div>

  <!-- ===== ê¸°ë³¸ JS ===== -->
  <script>
    /* ---------- ë„¤ë¹„/í˜ì´ì§€ ---------- */
    function showPage(pageId){
      document.querySelectorAll('.page').forEach(s=>s.classList.remove('active'));
      const el=document.getElementById(pageId);
      if(el){ el.classList.add('active'); window.scrollTo({top:0,behavior:'smooth'}); }
    }
    function goHome(){ showPage('home'); }

    /* ---------- ì¹´í…Œê³ ë¦¬ íƒ­ ì „í™˜ (ì¤‘ë³µ ì—†ìŒ) ---------- */
    function showCatTab(which){
      const tabIds = ['categories','cars'];
      tabIds.forEach(id=>{
        document.getElementById('catTab-'+id)?.classList.toggle('active', id===which);
        document.getElementById('catBtn-'+id)?.classList.toggle('active', id===which);
      });
      const sec = document.getElementById('category');
      if(sec) sec.scrollIntoView({behavior:'smooth', block:'start'});
    }

    /* ---------- í€µ ìŠ¤í¬ë¡¤ ---------- */
    function scrollToSection(id){
      const el=document.getElementById(id);
      if(el) el.scrollIntoView({behavior:"smooth",block:"start"});
    }

    /* ---------- ê±°ë˜ í†µê³„/ì¸ê¸° TOP5 ---------- */
    const items=[
      {name:"í« ì…ì–‘ê¶Œ",volume:12,price:200,change:+3.5},
      {name:"íŠ¸ì›”í‚¹",volume:9,price:33,change:-1.2},
      {name:"ì‡¼íƒ€ë¡œ",volume:7,price:95,change:+0.8},
      {name:"ë„¤ë¡œ",volume:5,price:245,change:+1.1},
      {name:"í…Œì €ë™íŠ¸",volume:4,price:295,change:-0.6},
    ];
    function renderTable(){
      const tbody=document.querySelector("#itemTable tbody");
      if(!tbody) return;
      tbody.innerHTML="";
      items.forEach(it=>{
        const cls=it.change>0?"up":it.change<0?"down":"";
        tbody.insertAdjacentHTML('beforeend',`
          <tr>
            <td>${it.name}</td>
            <td>${it.volume}</td>
            <td>${it.price}ì–µ</td>
            <td class="${cls}">${it.change>0?"â–²":it.change<0?"â–¼":"-"} ${Math.abs(it.change)}%</td>
          </tr>`);
      });
    }
    function renderTop(){
      const ul=document.querySelector("#topList");
      if(!ul) return;
      ul.innerHTML=items.slice().sort((a,b)=>b.volume-a.volume).slice(0,5)
        .map(it=>`<li>${it.name} (${it.volume}ê±´)</li>`).join("");
    }

    /* ---------- ì°¨ëŸ‰ ì¹´ë“œ/ëª¨ë‹¬ ---------- */
    const CAR_DATA = {
      'í…Œì €ë™íŠ¸': { price:'300ì–µ', desc:'ìµœê³ ì†ë„ 400km/h, ì „ìì‹ ì„œìŠ¤íœì…˜, íƒ„ì†Œì„¬ìœ  ëª¨ë…¸ì½”í¬ ì„€ì‹œ.' },
      'ë„¤ë¡œ': { price:'250ì–µ', desc:'ë°¸ëŸ°ìŠ¤ê°€ ì¢‹ì€ ì „ì²œí›„ ìŠˆí¼ì¹´. ì¼ìƒÂ·ë ˆì´ìŠ¤ ëª¨ë‘ OK.' },
      'M1': { price:'200ì–µ', desc:'ìŠ¤í¬í‹°í•œ í´ë˜ì‹ ëª¨ë¸. ì»¤ìŠ¤í…€ íŒŒì¸  í˜¸í™˜ì„± ìš°ìˆ˜.' },
      'ì‡¼íƒ€ë¡œ': { price:'100ì–µ', desc:'ë°”ì´í¬ê³„ì˜ ì•„ì´ì½˜. ê°€ì†Â·í•¸ë“¤ë§ íŠ¹í™”.' }
    };
    const carList = [
      {key:'í…Œì €ë™íŠ¸',icon:'ğŸš€'},
      {key:'ë„¤ë¡œ',icon:'ğŸï¸'},
      {key:'M1',icon:'ğŸš—'},
      {key:'ì‡¼íƒ€ë¡œ',icon:'ğŸï¸'},
    ];
    function renderCars(){
      const grid = document.getElementById('carGrid');
      if(!grid) return;
      grid.innerHTML = carList.map(c=>{
        const d=CAR_DATA[c.key];
        return `
        <div class="car-card" data-car="${c.key}">
          <div class="icon">${c.icon}</div>
          <h4>${c.key}</h4>
          <p class="price">${d?.price||'-'}</p>
        </div>`;
      }).join('');
    }
    function toggleCarModal(open){
      const modal = document.getElementById('carModal'); if(!modal) return;
      if(open){ modal.classList.add('show'); modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
      else{ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }
    }
    function openCarModal(){ toggleCarModal(true); }
    function closeCarModal(){ toggleCarModal(false); }

    document.addEventListener('click', (e)=>{
      const card = e.target.closest('.car-card');
      if(!card) return;
      const name = card.dataset.car;
      const data = CAR_DATA[name] || {};
      document.getElementById('carModalTitle').textContent = name || 'ì°¨ëŸ‰';
      document.getElementById('carModalPrice').textContent = 'ê°€ê²©: ' + (data.price || '-');
      document.getElementById('carModalDesc').textContent = data.desc || 'ì„¸ë¶€ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.';
      openCarModal();
    });

    /* ---------- ì—”í‹°í‹° ëª¨ë‹¬(í•„ìš” ì‹œ openEntity í˜¸ì¶œ) ---------- */
    function formatOrg(lines){
      return (lines||[]).map(raw=>{
        const t=(raw??"").trim();
        if(!t) return `<li class="org-gap"></li>`;
        if(/^<strong/i.test(t)) return `<li class="org-title">${t}</li>`;
        if(/^\W*ğŸŒ|\W*ğŸ“|\W*ğŸ¤|\W*ğŸ“»|\W*ğŸ› ï¸|\W*ğŸ¬/.test(t)) return `<li class="org-section"><span>${t.replace(/^(\W+)/,'')}</span></li>`;
        if(/^\[.*\]$/.test(t)) {
          const label=t.replace(/^\[|\]$/g,"");
          return `<li class="org-section"><span>${label}</span></li>`;
        }
        if(t.includes("ì´ ì¸ì›") || t.includes("ì´ì›")) return `<li class="org-total">${t}</li>`;
        return `<li class="org-item"><span class="dot"></span>${t}</li>`;
      }).join("");
    }
    function openEntity(ent){
      const modal=document.getElementById("modal");
      const content=document.getElementById("modalContent");
      document.getElementById("modalTitle").textContent=ent.name||'â€”';
      document.getElementById("modalTagline").textContent = ent.tagline || "â€”";
      document.querySelectorAll('.modal-tab').forEach(t=>t.classList.remove('active'));
      document.getElementById("modal-org").classList.add('active');

      const orgUL=document.getElementById("modalOrgList");
      orgUL.innerHTML = (ent.org && ent.org.length) ? formatOrg(ent.org)
        : "<li class='org-item'><span class='dot'></span>ë“±ë¡ëœ ì¡°ì§ë„ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</li>";

      const prodUL = document.getElementById("modalProdList");
      const hasProducts = Array.isArray(ent.products) && ent.products.length > 0;
      if (hasProducts) {
        prodUL.innerHTML = ent.products.map((p, i) => {
          const delay = i * 40;
          const note = p.note ? `<div class="prod-note">${p.note}</div>` : "";
          return `
            <li class="prod-card" style="animation-delay:${delay}ms">
              <div class="prod-title">${p.name}</div>
              <div class="prod-price">${p.price}</div>
              ${note}
            </li>`;
        }).join("");
      } else { prodUL.innerHTML = ""; }

      const info=document.getElementById("modalInfoText");
      info.innerHTML=`<b>í•œ ë§ˆë””:</b> ${ent.tagline||"â€”"}<br>${ent.info||""}`;

      // ì œí’ˆ íƒ­ ë²„íŠ¼ í‘œì‹œ/ìˆ¨ê¹€
      const btnProducts = document.querySelector('.modal-nav button[data-tab="products"]');
      if(btnProducts) btnProducts.style.display = hasProducts ? '' : 'none';

      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
      modal.setAttribute('aria-hidden','false');
    }
    function closeModal(){
      document.getElementById("modal").classList.remove('show');
      document.body.style.overflow = '';
      document.getElementById("modal").setAttribute('aria-hidden','true');
    }
    function showModalTab(id){
      document.querySelectorAll('.modal-tab').forEach(t=>t.classList.remove('active'));
      document.getElementById("modal-"+id).classList.add('active');
    }

    /* ---------- ë„ì›€ë§ ---------- */
    const HELP_TEXTS = {
      market: `
        <ul>
          <li><b>ë‹¹ê·¼ë§ˆì¼“</b>ì€ ê°œì¸ ê°„ ì•„ì´í…œ ê±°ë˜ë¥¼ ìœ„í•œ ì»¤ë®¤ë‹ˆí‹° ì¥í„°ì…ë‹ˆë‹¤.</li>
          <li>ë‹¹ê·¼ë§ˆì¼“ ì´ìš© ì‹œ <b>ê¸°ì¬ë¹„ìš© 1ì–µ</b>ì…ë‹ˆë‹¤.</li>
          <li>ê¸°ì¬ë¥¼ ìœ„í•´ <b>703 ê¹€ë‚¨ì • ë””ìŠ¤ì½”ë“œ DM</b>ì„ í•´ì£¼ì„¸ìš”.</li>
          <li><b>ë‹‰ë„¤ì„</b>, <b>ê³ ë²ˆ</b>, <b>í’ˆëª©</b>, <b>ê°€ê²©</b>ì„ ëª…í™•íˆ ê¸°ì¬í•´ ì£¼ì„¸ìš”.</li>
          <li>ì•ˆì „ ê±°ë˜ íŒ: ê±°ë˜ ì „Â·í›„ <b>ìŠ¤í¬ë¦°ìƒ·</b> ë³´ê´€, <b>ì¡°ê±´/ìˆ˜ìˆ˜ë£Œ</b> ì‚¬ì „ í•©ì˜.</li>
          <li>ìš´ì˜ì§„ì€ ê±°ë˜ì— ê°œì…í•˜ì§€ ì•Šìœ¼ë©°, ë‹¹ê·¼ë§ˆì¼“ì€ <b>ì¤‘ê°œ ì—­í• </b>ì…ë‹ˆë‹¤.</li>
        </ul>`
    };
    function openHelp(key){
      const modal = document.getElementById('helpModal');
      document.getElementById('helpTitle').textContent = key==='market' ? 'ë‹¹ê·¼ë§ˆì¼“ ë„ì›€ë§' : 'ë„ì›€ë§';
      document.getElementById('helpTagline').textContent = key==='market' ? 'ì»¤ë®¤ë‹ˆí‹° ì¥í„° ì´ìš© ì•ˆë‚´' : 'ì•ˆë‚´';
      document.getElementById('helpContent').innerHTML = HELP_TEXTS[key] || '<p>ì•ˆë‚´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
      modal.classList.add('show'); modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden';
    }
    function closeHelp(){
      const modal = document.getElementById('helpModal');
      modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow='';
    }

    /* ---------- ì‚¬ì—° ëª¨ë‹¬ (ì˜µì…˜) ---------- */
    const storyMap = new Map();
    function openStory(id){
      const s = storyMap.get(id); if(!s) return;
      document.getElementById('sModalTitle').textContent = s.title || '(ì œëª© ì—†ìŒ)';
      const nameStr = s.isAnon ? 'ìµëª…' : (s.nick || 'â€”');
      const codeStr = (!s.isAnon && s.code) ? ` (${s.code})` : '';
      document.getElementById('sModalMeta').textContent = `${nameStr}${codeStr} Â· ${s._time || ''}`;
      document.getElementById('sModalBody').textContent = s.body || '';
      document.getElementById('sModalCat').textContent = s.category || 'ê¸°íƒ€';
      const song = document.getElementById('sModalSong');
      if(s.song){ song.style.display='inline-flex'; song.textContent = `ğŸµ ${s.song}`; } else { song.style.display='none'; }
      const m = document.getElementById('storyModal');
      m.classList.add('show'); m.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden';
    }
    function closeStory(){
      const m = document.getElementById('storyModal');
      m.classList.remove('show'); m.setAttribute('aria-hidden','true'); document.body.style.overflow='';
    }

    /* ---------- ì´ˆê¸° ë Œë” ---------- */
    document.addEventListener('DOMContentLoaded', ()=>{
      renderCars();
      renderTable();
      renderTop();
      showPage('home'); // ì²« í˜ì´ì§€
      showCatTab('categories'); // ê¸°ë³¸ íƒ­
    });
  </script>

  <!-- ===== Firebase (ì˜µì…˜) â€” ì‹¤ì œ í”„ë¡œì íŠ¸ í‚¤ë¡œ êµì²´ ì‹œ ì‚¬ìš© ===== -->
  <script type="module">
    // ì´ ë¸”ë¡ì€ ë¶™ì—¬ë„ ì—ëŸ¬ ì•ˆ ë‚˜ë„ë¡ ë³´í˜¸
    (async ()=>{
      try{
        const { initializeApp } = await import("https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js");
        const { getFirestore, collection, addDoc, getDocs, serverTimestamp } =
          await import("https://www.gstatic.com/firebasejs/10.1.0/firebase-firestore.js");

        // ì˜ˆì‹œ ì„¤ì •(ë™ì‘ í…ŒìŠ¤íŠ¸ìš©). ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”.
        const firebaseConfig = {
          apiKey: "AIzaSyEXAMPLE",
          authDomain: "example.firebaseapp.com",
          projectId: "example",
          storageBucket: "example.appspot.com",
          messagingSenderId: "000000000",
          appId: "1:000000000:web:example"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // í¼ì´ ìˆì„ ë•Œë§Œ ë™ì‘(í˜„ì¬ ì˜ˆì‹œëŠ” í¼ ë¯¸í¬í•¨)
        const storyForm = document.getElementById('storyForm');
        if(storyForm){
          storyForm.addEventListener('submit', async (e)=>{
            e.preventDefault();
            const data = {
              nick: storyForm.nick.value || 'ìµëª…',
              code: storyForm.code.value || '',
              category: storyForm.category.value || 'ê¸°íƒ€',
              title: storyForm.title.value || '(ì œëª© ì—†ìŒ)',
              body: storyForm.body.value || '',
              song: storyForm.song.value || '',
              isAnon: storyForm.isAnon?.checked,
              _time: new Date().toLocaleString(),
              timestamp: serverTimestamp()
            };
            try {
              await addDoc(collection(db,"stories"), data);
              alert('ì‚¬ì—°ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!');
              storyForm.reset();
            }catch(err){
              alert('ì—ëŸ¬: '+err.message);
            }
          });
        }

        // ëª©ë¡ ë¡œë“œ (í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ê°€ ìˆì„ ë•Œë§Œ)
        async function loadStories(){
          const list = document.getElementById('storyList'); if(!list) return;
          const snap = await getDocs(collection(db,"stories"));
          list.innerHTML="";
          snap.forEach(doc=>{
            const d=doc.data();
            const li=document.createElement('li');
            li.textContent = `${d.title} - ${d.nick}`;
            li.onclick=()=>openStory(doc.id);
            storyMap.set(doc.id,d);
            list.appendChild(li);
          });
        }
        await loadStories();
      }catch(err){
        // Firebaseê°€ í•„ìš” ì—†ê±°ë‚˜ í‚¤ê°€ ê°€ì§œì¼ ë•Œ ì¡°ìš©íˆ ë¬´ì‹œ
        console.warn('Firebase ë¹„í™œì„±(ì˜µì…˜):', err?.message || err);
      }
    })();
  </script>
</body>
</html>
