<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>작 정보 센터</title>
  <style>
   /* ✨ 네이비–레드 그라데이션 배경 */
body {
  margin: 0;
  font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #f1f5f9;
  line-height: 1.6;
  background: linear-gradient(270deg, #1e3a8a, #0f172a, #7f1d1d);
  background-size: 600% 600%;
  animation: bgMove 15s ease infinite;
}

/* 배경 애니메이션 */
@keyframes bgMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* 헤더 */
header {
  background: rgba(15, 23, 42, 0.7);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  padding: 18px 0;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
header h1 {
  margin: 0;
  font-size: 28px;
  color: #38bdf8;
  font-weight: 900;
  cursor: pointer;
  text-shadow: 0 0 10px rgba(56,189,248,0.5);
  transition: transform .2s;
}
header h1:hover { transform: scale(1.05); }

/* 레이아웃 */
.layout {
  display: grid;
  grid-template-columns: 300px 1fr 300px;
  column-gap: 40px;
  row-gap: 24px;
  max-width: 1600px;
  margin: 20px auto;
  padding: 0 30px;
}
main { display: flex; flex-direction: column; gap: 20px; }

/* 좌우 사이드 */
aside {
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(12px);
  border-radius: 14px;
  padding: 20px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  color: #f8fafc;
}
aside h3 {
  margin: 0 0 12px;
  color: #93c5fd;
  font-size: 16px;
  font-weight: 700;
}
aside ul {
  margin: 0;
  padding-left: 18px;
  color: #cbd5e1;
}

/* 히어로 */
.hero {
  text-align: center;
  padding: 40px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(12px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.5);
  margin: 20px 0;
}
.hero h2 {
  margin: 0 0 14px;
  color: #38bdf8;
  font-size: 26px;
  font-weight: 800;
}
.hero p {
  font-size: 16px;
  color: #cbd5e1;
}

/* 상단 네비 카드 */
.nav-parts {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin: 20px auto;
  flex-wrap: wrap;
}
.nav-card {
  flex: 1;
  min-width: 150px;
  max-width: 200px;
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(10px);
  padding: 22px 16px;
  text-align: center;
  border-radius: 16px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.5);
  cursor: pointer;
  transition: transform .25s, box-shadow .25s;
}
.nav-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 10px 24px rgba(0,0,0,0.7);
}
.nav-card .icon {
  font-size: 28px;
  margin-bottom: 10px;
}
.nav-card h3 {
  margin: 0;
  font-size: 18px;
  color: #93c5fd;
  font-weight: 700;
}

/* 페이지(홈 등) */
section.page {
  display: none;
  padding: 28px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  backdrop-filter: blur(12px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
  color: #f8fafc;
}
section.page.active {
  display: block;
  animation: pageIn .3s ease;
}
section h2 {
  margin: 0 0 16px;
  color: #38bdf8;
  font-size: 21px;
  font-weight: 700;
}

/* 표 (카테고리, 마켓 공통) */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0 32px;
  font-size: 15.5px;
  color: #f1f5f9;
}
th, td {
  padding: 14px 12px;
  border-bottom: 1px solid rgba(255,255,255,0.15);
  text-align: center;
}
th {
  background: rgba(56,189,248,0.2);
  color: #bae6fd;
  font-weight: 700;
}
tr:nth-child(even) td {
  background: rgba(255,255,255,0.05);
}
tr:hover td {
  background: rgba(255,255,255,0.15);
}

  </style>
</head>
<body>
  <header><h1 onclick="goHome()">리얼 정보 센터</h1></header>
  <div id="scrollProgress" aria-hidden="true"></div>

  <div class="layout">
    <!-- 왼쪽 -->
    <aside>
      <div class="aside-box">
        <h3>📢 공지사항</h3>
        <ul>
          <li>리얼 정보 센터 OPEN</li>
          <li>리얼 투자 센터 리뉴얼 </li>
          <li>🙏문의: 703 김남정, 디코 dm</li>
        </ul>
      </div>
      <div class="aside-box">
        <h3>🎉 다가오는 이벤트</h3>
        <ul>
          <li>.</li>

        </ul>
      </div>
    </aside>

    <!-- 중앙 -->
    <main>
      <div class="nav-parts">
        <div class="nav-card" onclick="showPage('home')"><div class="icon">🏠</div><h3>홈</h3></div>
        <div class="nav-card" onclick="showPage('market')"><div class="icon">📚</div><h3>차량 카탈로그</h3></div>
        <div class="nav-card" onclick="showPage('category')"><div class="icon">📂</div><h3>카테고리</h3></div>
        <div class="nav-card" onclick="showPage('stats')"><div class="icon">📈</div><h3>거래 통계</h3></div>
      </div>

      <div class="hero"><h2>📊 정보 센터</h2><p>리얼월드의 아이템 시세와 조직 정보를 한눈에!</p></div>

      <!-- 홈 -->
      <section id="home" class="page active">
        <h2>🏠 홈</h2>
      <!-- 리얼 방송국 (홈 섹션 바로 아래, 같은 폭) -->
      <div id="broadcastBox">
        <div class="title-row">
          <h2>📡 리얼 방송국</h2>
          <span class="pill">실시간 접수 · 익명 가능</span>
        </div>
        <p class="desc">사연을 보내면 운영진 확인 후 방송으로 소개돼요. <span class="hint">* 로그인 없이 익명 접수 가능</span></p>

        <div class="broadcast-grid">
          <!-- 사연 신청 -->
          <div class="story-card">
            <h3>📝 사연 신청</h3>
            <form id="storyForm" class="story-form" novalidate>
              <div class="row double">
                <label for="storyNick">보내는 분</label>
                <input id="storyNick" type="text" placeholder="닉네임" />
                <input id="storyCode" type="text" placeholder="고번 (예: 251)" />
              </div>

              <div class="row">
                <label for="storyCategory">카테고리</label>
                <select id="storyCategory" required>
                  <option value="" disabled selected>카테고리를 선택하세요</option>
                  <option>연애</option><option>우정</option><option>사건/사고</option><option>일상</option>
                  <option>웃긴 일</option><option>감동</option><option>음악사연</option><option>기타</option>
                </select>
              </div>

              <div class="row">
                <label for="storyTitle">제목</label>
                <input id="storyTitle" type="text" placeholder="사연 제목" maxlength="60" required />
              </div>

              <div class="row">
                <label for="storySong">신청곡</label>
                <input id="storySong" type="text" placeholder="예: 아이유 - 밤편지 (선택)" />
              </div>

              <div class="row" style="align-items:start">
                <label for="storyBody">내용</label>
                <textarea id="storyBody" placeholder="사연 내용을 입력하세요" required></textarea>
              </div>

              <div class="row">
                <label>익명</label>
                <div class="inline">
                  <div id="anonSwitch" class="switch" role="switch" aria-checked="false" tabindex="0"></div>
                  <span class="hint">익명으로 보내기</span>
                </div>
              </div>

              <div class="row actions">
                <button type="submit" class="btn">사연 보내기</button>
              </div>
              <div id="storyMsg" class="hint" style="margin-top:4px" aria-live="polite"></div>
            </form>
          </div>

          <!-- 최신 사연 -->
          <div class="story-list">
            <div class="head">
              <h3>🗂 최신 사연</h3>
              <div class="filters">
                <select id="storyFilter" class="pill">
                  <option value="">전체</option>
                  <option>연애</option><option>우정</option><option>사건/사고</option><option>일상</option>
                  <option>웃긴 일</option><option>감동</option><option>음악사연</option><option>기타</option>
                </select>
              </div>
            </div>
            <ul id="storyList"></ul>
          </div>
        </div>
      </div>
      <!-- /리얼 방송국 -->
</section>
      <!-- 당근마켓 -->
      <!-- 당근마켓 (카테고리와 동일한 테이블형) -->
<!-- ===== 당근마켓 (카테고리별 이동 가능, 풀버전) ===== -->
<section id="market" class="page">
  <h2>📚 카탈로그</h2>

  <!-- 빠른 이동 버튼 -->
  <div class="quick-nav">
    <button onclick="scrollToMarket('offroad')">💥 오프로드</button>
    <button onclick="scrollToMarket('muscle')">💥 머슬카</button>
    <button onclick="scrollToMarket('van')">💥 밴</button>
    <button onclick="scrollToMarket('sportscar')">💥 스포츠카</button>
    <button onclick="scrollToMarket('classic')">💥 클래식</button>
    <button onclick="scrollToMarket('sedan')">💥 세단</button>
    <button onclick="scrollToMarket('supercar')">💥 슈퍼카</button>
    <button onclick="scrollToMarket('suv')">💥 SUV</button>
    <button onclick="scrollToMarket('small')">💥 소형</button>
  </div>

  <!-- 💥 오프로드 -->
  <h3 id="offroad">💥 오프로드</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="디로더"><td>디로더</td><td>1,650,000,000원</td><td>2인승</td><td>30칸</td></tr>
    <tr data-car="에버온"><td>에버온</td><td>1,650,000,000원</td><td>4인승</td></tr>
    <tr data-car="요세미터3"><td>요세미터3</td><td>1,650,000,000원</td><td>2인승</td></tr>
    <tr data-car="메사"><td>메사</td><td>1,782,000,000원</td><td>4인승</td></tr>
    <tr data-car="듀브스타"><td>듀브스타</td><td>2,794,000,000원</td><td>4인승</td></tr>
    <tr data-car="프리크롤러"><td>프리크롤러</td><td>4,037,000,000원</td><td>2인승</td></tr>
  </table>

  <!-- 💥 머슬카 -->
  <h3 id="muscle">💥 머슬카</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="클리크"><td>클리크</td><td>2,035,000,000원</td><td>2인승</td></tr>
     <tr data-car="요세미티"><td>요세미티</td><td>2,090,000,000원</td><td>2인승</td></tr>
     <tr data-car="슬림밴"><td>슬림밴</td><td>2,145,000,000원</td><td>2인승</td></tr>
     <tr data-car="코켓 블랙핀"><td>코켓 플랙핀</td><td>2,200,000,000원</td><td>2인승</td></tr>
     <tr data-car="문빔"><td>문빔</td><td>2,750,000,000원</td><td>2인승</td></tr>
     <tr data-car="버고"><td>버고</td><td>2,750,000,000원</td><td>2인승</td></tr>
     <tr data-car="부두 커스텀"><td>부두 커스텀</td><td>2,860,000,000원</td><td>2인승</td></tr>
     <tr data-car="유도라"><td>유도라</td><td>2,915,000,000원</td><td>2인승</td></tr>
     <tr data-car="탬파"><td>탬파</td><td>2,970,000,000원</td><td>2인승</td></tr>
    <tr data-car="듀크"><td>듀크</td><td>3,025,000,000원</td><td>2인승</td></tr>
     <tr data-car="탐파2"><td>탐파2</td><td>3,124,000,000원</td><td>2인승</td></tr>
     <tr data-car="헤르메스"><td>헤르메스</td><td>3,135,000,000원</td><td>2인승</td></tr>
     <tr data-car="비터 듀크스"><td>비터 듀크스</td><td>3,190,000,000원</td><td>2인승</td></tr>
      <tr data-car="도미네이터 GTT"><td>도미네이터 GTT</td><td>3,245,000,000원</td><td>2인승</td></tr>
      <tr data-car="도미네이터 ASP"><td>도미네이터 ASP</td><td>3,124,000,000원</td><td>2인승</td></tr>
      <tr data-car="피요트 개서"><td>피요트 개서</td><td>4,180,000,000원</td><td>2인승</td></tr>
      <tr data-car="문빔 커스텀"><td>문빔 커스텀</td><td>4,290,000,000원</td><td>2인승</td></tr>
  </table>

  <!-- 💥 밴 -->
  <h3 id="van">💥 밴</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="밥캣XL"><td>밥캣XL</td><td>1,650,000,000원</td><td>4인</td></tr>
    <tr data-car="부리토"><td>부리토</td><td>1,650,000,000원</td><td>6인</td></tr>
    <tr data-car="서퍼"><td>서퍼</td><td>2,882,000,000원</td><td>6인</td></tr>
  </table>

  <!-- 💥 스포츠카 -->
  <h3 id="sportscar">💥 스포츠카</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="엘리지2"><td>엘리지2</td><td>1,672,000,000원</td><td>2인승</td></tr>
    <tr data-car="코그브리오"><td>코그브리오</td><td>1,848,000,000원</td><td>2인승</td></tr>
    <tr data-car="재칼"><td>재칼</td><td>1,914,000,000원</td><td>4인승</td></tr>
    <tr data-car="미쉘리"><td>미쉘리</td><td>1,925,000,000원</td><td>2인승</td></tr>
    <tr data-car="버팔로"><td>버팔로</td><td>1,980,000,000원</td><td>2인승</td></tr>
    <tr data-car="버팔로2"><td>버팔로2</td><td>2,002,000,000원</td><td>4인승</td></tr>
    <tr data-car="버팔로3"><td>버팔로3</td><td>2,024,000,000원</td><td>4인승</td></tr>
    <tr data-car="GB200"><td>GB200</td><td>1,848,000,000원</td><td>2인승</td></tr>
    <tr data-car="재스터3"><td>재스터3</td><td>2,090,000,000원</td><td>2인승</td></tr>
    <tr data-car="마사크로"><td>마사크로</td><td>2,112,000,000원</td><td>2인승</td></tr>
    <tr data-car="마사크로2"><td>마사크로2</td><td>2,134,000,000원</td><td>2인승</td></tr>
    <tr data-car="베스트아GTS"><td>베스트아GTS</td><td>2,772,000,000원</td><td>2인승</td></tr>
    <tr data-car="펠론"><td>펠론</td><td>2,860,000,000원</td><td>4인승</td></tr>
    <tr data-car="트로포스"><td>트로포스</td><td>2,2,948,000,000원</td><td>2인승</td></tr>
    <tr data-car="오므니스"><td>오므니스</td><td>2,926,000,000원</td><td>2인승</td></tr>
    <tr data-car="슐라겐"><td>슐라겐</td><td>3,168,000,000원</td><td>2인승</td></tr>
    <tr data-car="코멧3"><td>코멧3</td><td>3,190,000,000원</td><td>2인승</td></tr>
    <tr data-car="백트레"><td>백트레</td><td>3,212,000,000원</td><td>2인승</td></tr>
    <tr data-car="드래프터"><td>드래프터</td><td>3,234,000,000원</td><td>2인승</td></tr>
    <tr data-car="주글러"><td>주글러</td><td>3,256,000,000원</td><td>2인승</td></tr>
    <tr data-car="팡테르"><td>팡테르</td><td>4,070,000,000원</td><td>4인승</td></tr>
    <tr data-car="펠른2"><td>펠른2</td><td>4,103,000,000원</td><td>2인승</td></tr>
    <tr data-car="파리아"><td>파리아</td><td>4,169,000,000원</td><td>2인승</td></tr>
    <tr data-car="네온"><td>네온</td><td>4,367,000,000원</td><td>2인승</td></tr>
  </table>

  <!-- 💥 클래식 -->
  <h3 id="classic">💥 클래식</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="토르네이도"><td>토르네이도</td><td>1,716,000,000원</td><td>2인승</td></tr>
    <tr data-car="토나도5"><td>토나도5</td><td>1,738,000,000원</td><td>2인승</td></tr>
    <tr data-car="토네이도6"><td>토네이도6</td><td>1,760,000,000원</td><td>2인승</td></tr>
    <tr data-car="디이너스티"><td>디이너스티</td><td>1,936,000,000원</td><td>4인승</td></tr>
    <tr data-car="Z190"><td>Z190</td><td>2,068,000,000원</td><td>2인승</td></tr>
    <tr data-car="GT500"><td>GT500</td><td>2,156,000,000원</td><td>2인승</td></tr>
    <tr data-car="코켓2"><td>코켓2</td><td>2,178,000,000원</td><td>2인승</td></tr>
    <tr data-car="코켓5"><td>코켓5</td><td>2,200,000,000원</td><td>2인승</td></tr>
    <tr data-car="인퍼너스2"><td>인퍼너스2</td><td>2,838,000,000원</td><td>2인승</td></tr>
  </table>

  <!-- 💥 세단 -->
  <h3 id="sedan">💥 세단</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="콕55"><td>콕55</td><td>1,694,000,000원</td><td>4인승</td></tr>
    <tr data-car="스태포드"><td>스태포드</td><td>1,870,000,000원</td><td>2인승</td></tr>
    <tr data-car="라인하트"><td>라인하트</td><td>3,080,000,000원</td><td>4인승</td></tr>
    <tr data-car="친퀘밀라"><td>친퀘밀라</td><td>4,301,000,000원</td><td>4인승</td></tr>
  </table>

  <!-- 💥 슈퍼카 -->
  <h3 id="supercar">💥 슈퍼카</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="페네트레이터"><td>페네트레이터</td><td>2,948,000,000원</td><td>2인승</td></tr>
    <tr data-car="GP1"><td>GP1</td><td>3,278,000,000원</td><td>2인승</td></tr>
    <tr data-car="치타2"><td>치타2</td><td>3,300,000,000원</td><td>2인승</td></tr>
    <tr data-car="몰릭"><td>몰릭</td><td>4,202,000,000원</td><td>2인승</td></tr>
    <tr data-car="바카"><td>바카</td><td>4,658,500,000원</td><td>2인승</td></tr>
    <tr data-car="인퍼너스"><td>인퍼너스</td><td>4,334,000,000원</td><td>2인승</td></tr>
    <tr data-car="반시2"><td>반시2</td><td>4,400,000,000원</td><td>2인승</td></tr>
  </table>

  <!-- 💥 SUV -->
  <h3 id="suv">💥 SUV</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="그레슬리"><td>그레슬리</td><td>1,804,000,000원</td><td>4인승</td></tr>
    <tr data-car="FQ2"><td>FQ2</td><td>1,826,000,000원</td><td>4인승</td></tr>
    <tr data-car="힌틀리"><td>힌틀리</td><td>1,892,000,000원</td><td>4인승</td></tr>
    <tr data-car="더브스타2"><td>더브스타2</td><td>2,816,000,000원</td><td>4인승</td></tr>
    <tr data-car="이시8"><td>이시8</td><td>2,970,000,000원</td><td>4인승</td></tr>
    <tr data-car="발러3"><td>발러3</td><td>2,992,000,000원</td><td>4인승</td></tr>
    <tr data-car="발러4"><td>발러4</td><td>3,014,000,000원</td><td>4인승</td></tr>
    <tr data-car="발러7"><td>발러7</td><td>3,036,000,000원</td><td>4인승</td></tr>
    <tr data-car="핫 링 에바론"><td>핫 링 에바론</td><td>3,058,000,000원</td><td>2인승</td></tr>
    <tr data-car="노박"><td>노박</td><td>3,102,000,000원</td><td>4인승</td></tr>
    <tr data-car="비반나이트"><td>비반나이트</td><td>4,136,000,000원</td><td>4인승</td></tr>
    <tr data-car="에스트론"><td>에스트론</td><td>4,268,000,000원</td><td>4인승</td></tr>
    <tr data-car="하바네로"><td>하바네로</td><td>5,500,000,000원</td><td>4인승</td></tr>
  </table>

  <!-- 💥 소형 -->
  <h3 id="small">💥 소형</h3>
  <table>
    <tr><th>차량</th><th>가격</th><th>승차인원</th></tr>
    <tr data-car="이씨클래식"><td>이씨클래식</td><td>1,650,000,000원</td><td>2인승</td></tr>
    <tr data-car="브리오소"><td>브리오소</td><td>2,904,000,000원</td><td>2인승</td></tr>
  </table>
</section>
      
    <script>
/* === 차량 데이터 === */
const CAR_CATALOG_DATA = {
  "디로더":{img:"https://i.imgur.com/tXYVoZq.png/700x400?text=브리오소",price:"1,650,000,000원",desc:"디로더 차량 설명"}, 
  "브리오소":{img:"https://i.imgur.com/h0wKMZA.png/700x400?text=브리오소",price:"2,904,000,000원",desc:"브리오소 차량 설명"}
};

/* === 모달 열기/닫기 === */
function openCarModal(name){
  const modal=document.getElementById('carModal');
  const data=CAR_CATALOG_DATA[name]||{};
  document.getElementById('carModalTitle').textContent=name;
  document.getElementById('carModalImg').src=data.img||'';
  document.getElementById('carModalImg').alt=name;
  document.getElementById('carModalPrice').textContent='가격: '+(data.price||'-');
  document.getElementById('carModalDesc').textContent=data.desc||'세부 설명이 없습니다.';
  modal.classList.add('show');
  modal.setAttribute('aria-hidden','false');
  document.body.style.overflow='hidden';
}

/* === 테이블 행 클릭 === */
document.addEventListener('click', (e)=>{
  const tr=e.target.closest('tr[data-car]');
  if(!tr) return;
  openCarModal(tr.dataset.car);
});
</script>

    
      <!-- 카테고리 -->
      <section id="category" class="page">
        <h2>📂 카테고리별 시세표</h2>
        <div class="quick-nav">
          <button onclick="scrollToSection('chair')">🪑 의자 종류</button>
          <button onclick="scrollToSection('support-car')">🚗 후원 차량</button>
          <button onclick="scrollToSection('island-car')">🏝 극락도 차량</button>
          <button onclick="scrollToSection('effect')">✨ 이펙트</button>
          <button onclick="scrollToSection('skin')">🎭 스킨</button>
          <button onclick="scrollToSection('dance')">💃 행동·댄스·동상</button>
          <button onclick="scrollToSection('item')">✨ 기타</button>
        </div>

        <h3 id="chair">🪑 의자 종류</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
          <tr><td>달의자</td><td>230억~250억</td></tr>
          <tr><td>커피의자</td><td>230억~250억</td></tr>
          <tr><td>새장의자</td><td>160억~190억</td></tr>
          <tr><td>구름의자</td><td>270억~300억</td></tr>
           <tr><td>게이밍의자 블랙</td><td>책정불가</td></tr>
          <tr><td>게이밍의자 화이트</td><td>책정불가</td></tr>
        </table>

        <h3 id="support-car">🚗 후원 차량</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
          <tr><td>M1</td><td>170억~200억</td></tr>
          <tr><td>미니바티</td><td>150억~180억</td></tr>
          <tr><td>이그너스</td><td>245억~270억</td></tr>
          <tr><td>M2</td><td>170억~200억</td></tr>
          <tr><td>시노비</td><td>100억~120억</td></tr>
          <tr><td>네로</td><td>230억~250억</td></tr>
          <tr><td>쇼타로</td><td>80억~100억</td></tr>
          <tr><td>M3</td><td>150억~200억</td></tr>
          <tr><td>테저랙트</td><td>270억~300억</td></tr>
          <tr><td>M4</td><td>170억~200억</td></tr>
          <tr><td>하쿠쵸우</td><td>80억~110억</td></tr>
          <tr><td>디베스트</td><td>책정불가</td></tr>
          <tr><td>M5</td><td>책정불가</td></tr>
          <tr><td>바티 901</td><td>책정불가</td></tr>
          <tr><td>비모타테지 H2</td><td>책정불가</td></tr>
        </table>

        <h3 id="island-car">🏝 극락도 차량</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
          <tr><td>바나나카</td><td>책정불가</td></tr>
          <tr><td>고양카</td><td>책정불가</td></tr>
          <tr><td>피넛카</td><td>40억~60억</td></tr>
           <tr><td>쇼파카</td><td>50억~80억</td></tr>
        </table>

        <h3 id="effect">✨ 이펙트</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
          <tr><td>불손</td><td>220억~270억</td></tr>
          <tr><td>불발</td><td>200억~250억</td></tr>
          <tr><td>리프</td><td>140억~180억</td></tr>
          <tr><td>번개</td><td>130억~150억</td></tr>
          <tr><td>꽃잎비</td><td>250억~280억</td></tr>
        </table>

        <h3 id="skin">🎭 스킨</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
          <tr><td>다니엘</td><td>200억~240억</td></tr>
          <tr><td>HJ</td><td>책정불가</td></tr>
          <tr><td>YH</td><td>책정불가</td></tr>
          <tr><td>다혜</td><td>책정불가</td></tr>
          <tr><td>유자</td><td>80억~130억</td></tr>
          <tr><td>문신남</td><td>????</td></tr>
          <tr><td>병아리</td><td>150억~180억</td></tr>
          <tr><td>고양이</td><td>150억~180억</td></tr>
        </table>

        <h3 id="dance">💃 행동·댄스·동상</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
<tr><td>액셀레이다</td><td>책정불가</td></tr>
        </table>

        <h3 id="item">✨ 기타 아이템</h3>
        <table>
          <tr><th>아이템</th><th>시세</th></tr>
          <tr><td>롤러</td><td>60억~80억</td></tr>
          <tr><td>펫 입양권</td><td>160억~200억</td></tr>
        </table>
      </section>

      <!-- 거래 통계 -->
      <section id="stats" class="page">
        <h2>📈 거래 통계</h2>
        <table id="itemTable">
          <thead><tr><th>아이템</th><th>거래량</th><th>평균가</th><th>변동</th></tr></thead>
          <tbody></tbody>
        </table>
      </section>
    </main>

    <!-- 오른쪽 -->
    <aside>
      <h3>🔥 인기 TOP 5</h3>
      <ul id="topList"></ul>
      <h3>⏰ 실시간 알림</h3>
      <ul><li>-</li></ul>
    </aside>
  </div>

  <!-- 사연 상세 모달 -->
  <div id="storyModal" class="modal" aria-hidden="true">
    <div class="modal-content bg-broadcast" role="dialog" aria-modal="true">
      <button class="close-btn" onclick="closeStory()">닫기</button>
      <h3 id="sModalTitle">사연 제목</h3>
      <p class="modal-tagline" id="sModalMeta">작성자 · 시간</p>
      <div class="help-body">
        <div class="help-view" id="sModalBody" style="white-space:pre-wrap"></div>
        <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
          <span class="badge" id="sModalCat">카테고리</span>
          <span class="badge" id="sModalSong" style="display:none"></span>
        </div>
      </div>
    </div>
  </div>

  <!-- 도움말 모달 -->
  <div id="helpModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="close-btn" onclick="closeHelp()">닫기</button>
      <h3 id="helpTitle">당근마켓 도움말</h3>
      <p class="modal-tagline" id="helpTagline">커뮤니티 장터 이용 안내</p>
      <div class="help-body">
        <div id="helpContent" class="help-view"></div>
      </div>
    </div>
  </div>

 <!-- 차량 상세 모달 -->
<div id="carModal" class="modal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true">
    <button class="close-btn" onclick="closeCarModal()">닫기</button>
    <h3 id="carModalTitle">차량명</h3>

    <!-- ✅ 추가된 부분 -->
    <img id="carModalImg"
         src=""
         alt=""
         style="max-width:100%;border-radius:14px;margin:14px 0;">

    <p id="carModalPrice" class="modal-tagline">가격 정보</p>
    <div id="carModalDesc" style="line-height:1.8">
      세부 설명이 여기에 표시됩니다.
    </div>
  </div>
</div>

  <!-- ===== /추가 끝 ===== -->

  <!-- 기본 JS -->
  <script>
    /* ---------- 네비/서브페이지 ---------- */
    function showPage(pageId){
      document.querySelectorAll('.page').forEach(s=>s.classList.remove('active'));
      const el=document.getElementById(pageId);
      if(el){ el.classList.add('active'); window.scrollTo({top:0,behavior:'smooth'}); }
      toggleBroadcastBox();
    }
    function goHome(){ showPage('home'); }
    function showSubPage(id){
      document.querySelectorAll('#home .sub-page').forEach(div=>div.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    /* 홈에서만 리얼 방송국 표시 */
    function toggleBroadcastBox(){
      const isHome = document.getElementById('home')?.classList.contains('active');
      const bx = document.getElementById('broadcastBox');
      if(bx) bx.style.display = isHome ? '' : 'none';
    }

    /* ---------- 카테고리 퀵 이동 ---------- */
    function scrollToSection(id){
      const el=document.getElementById(id);
      if(el) el.scrollIntoView({behavior:"smooth",block:"start"});
    }

    /* ---------- 거래 통계/인기 TOP5 ---------- */
    const items=[
      {name:"펫 입양권",volume:0,price:200,change:0},
      {name:"트월킹",volume:0,price:30,change:0},
    ];
    function renderTable(){
      const tbody=document.querySelector("#itemTable tbody");
      if(!tbody) return;
      tbody.innerHTML="";
      items.forEach(it=>{
        const cls=it.change>0?"up":it.change<0?"down":"";
        tbody.innerHTML+=`
          <tr>
            <td>${it.name}</td>
            <td>${it.volume}</td>
            <td>${it.price}억</td>
            <td class="${cls}">${it.change>0?"▲":it.change<0?"▼":"-"} ${it.change}%</td>
          </tr>`;
      });
    }
    function renderTop(){
      const ul=document.querySelector("#topList");
      if(!ul) return;
      ul.innerHTML=items.slice().sort((a,b)=>b.volume-a.volume).slice(0,5)
        .map(it=>`<li>${it.name} (${it.volume}건)</li>`).join("");
    }

    /* ---------- 조직도 포맷터 ---------- */
    function formatOrg(lines){
      return lines.map(raw=>{
        const t=(raw??"").trim();
        if(!t) return `<li class="org-gap"></li>`;
        if(/^<strong/i.test(t)) return `<li class="org-title">${t}</li>`;
        if(/^\[.*\]$/.test(t)) {
          const label=t.replace(/^\[|\]$/g,"");
          return `<li class="org-section"><span>${label}</span></li>`;
        }
        if(t.includes("총 인원") || t.includes("총원")) {
          return `<li class="org-total">${t}</li>`;
        }
        return `<li class="org-item"><span class="dot"></span>${t}</li>`;
      }).join("");
    }
    /* ---------- 도움말(보기 전용) ---------- */
    const HELP_TEXTS = {
      market: `
        <ul>
          <li><b>카탈로그는 떡잎방범대의 판매하는 모든 차량 리스트입니다.</li>
        </ul>`
    };
    function openHelp(key){
      const modal = document.getElementById('helpModal');
      const title = document.getElementById('helpTitle');
      const tagline = document.getElementById('helpTagline');
      const content = document.getElementById('helpContent');

      if(key==='market'){
        title.textContent = '당근마켓 도움말';
        tagline.textContent = '커뮤니티 장터 이용 안내';
      } else {
        title.textContent = '도움말';
        tagline.textContent = '안내';
      }
      content.innerHTML = HELP_TEXTS[key] || '<p class="help-view">안내가 없습니다.</p>';

      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
    }
    function closeHelp(){
      const modal = document.getElementById('helpModal');
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    /* ---------- 사연 상세 모달 ---------- */
    const storyMap = new Map();
    function openStory(id){
      const s = storyMap.get(id);
      if(!s) return;
      document.getElementById('sModalTitle').textContent = s.title || '(제목 없음)';
      const nameStr = s.isAnon ? '익명' : (s.nick || '—');
      const codeStr = (!s.isAnon && s.code) ? ` (${s.code})` : '';
      document.getElementById('sModalMeta').textContent = `${nameStr}${codeStr} · ${s._time || ''}`;
      document.getElementById('sModalBody').textContent = s.body || '';
      const cat = document.getElementById('sModalCat');
      cat.textContent = s.category || '기타';
      const song = document.getElementById('sModalSong');
      if(s.song){ song.style.display='inline-flex'; song.textContent = `🎵 ${s.song}`; } else { song.style.display='none'; }
      const m = document.getElementById('storyModal');
      m.classList.add('show');
      m.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
    }
    function closeStory(){
      const m = document.getElementById('storyModal');
      m.classList.remove('show');
      m.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    /* 초기 렌더 */
    renderTable(); renderTop();

    /* 스크롤 진행바 */
    function onScrollProgress(){
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight || 1);
      const bar = document.getElementById('scrollProgress');
      if(bar) bar.style.width = (Math.max(0, Math.min(1, scrolled)) * 100) + '%';
    }
    window.addEventListener('scroll', onScrollProgress, { passive:true });

    document.addEventListener('DOMContentLoaded', ()=>{
      toggleBroadcastBox();
      onScrollProgress();
    });

    /* ===== ✅ 추가: 차량 카드 클릭 → 차량 모달 열기 ===== */
    const CAR_DATA = {
      '테저랙트': { price:'300억', desc:'최고속도 400km/h, 전자식 서스펜션, 탄소섬유 모노코크 섀시.' },
      '네로': { price:'250억', desc:'밸런스가 좋은 전천후 슈퍼카. 일상·레이스 모두 OK.' },
      'M1': { price:'200억', desc:'스포티한 클래식 모델. 커스텀 파츠 호환성 우수.' },
      '쇼타로': { price:'100억', desc:'바이크계의 아이콘. 가속·핸들링 특화.' }
    };

    function closeCarModal(){
      const modal = document.getElementById('carModal');
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }

    document.addEventListener('click', (e)=>{
  const card = e.target.closest('.car-card');
  if(!card) return;
  openCarModal(card.dataset.car); // ✅ 이렇게 name 넘겨서 호출
});
  </script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
    import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, limit, onSnapshot } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";
    import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBQt_sPa5B4rHWAHTn9piQ6mYYmTDpxykM",
      authDomain: "information-5461a.firebaseapp.com",
      projectId: "information-5461a",
      storageBucket: "information-5461a.firebasestorage.app",
      messagingSenderId: "1051085585657",
      appId: "1:1051085585657:web:c9b43d1b000aa30a233628",
      measurementId: "G-2VD58S8V9C"
    };

    const app = initializeApp(firebaseConfig);
    try { getAnalytics(app); } catch(e){}
    const db = getFirestore(app);
    const auth = getAuth(app);

    signInAnonymously(auth).catch(console.error);

    const storiesRef = collection(db, "stories");

    /* ---- 폼 엘리먼트 ---- */
    const storyForm = document.getElementById("storyForm");
    const storyNick = document.getElementById("storyNick");
    const storyCode = document.getElementById("storyCode");
    const storyTitle = document.getElementById("storyTitle");
    const storyBody = document.getElementById("storyBody");
    const storyMsg  = document.getElementById("storyMsg");
    const storySong = document.getElementById("storySong");
    const storyCategory = document.getElementById("storyCategory");
    const anonSwitch = document.getElementById("anonSwitch");
    const storyList = document.getElementById("storyList");
    const storyFilter = document.getElementById("storyFilter");

    /* ---- 익명 스위치 ---- */
    function setAnon(active){
      anonSwitch.classList.toggle('active', !!active);
      anonSwitch.setAttribute('aria-checked', active ? 'true' : 'false');
      updateAnonUI();
    }
    function updateAnonUI(){
      const anon = anonSwitch.classList.contains('active');
      [storyNick, storyCode].forEach((el)=>{
        el.disabled = anon;
        if(anon) el.value = '';
        if(el === storyNick) el.placeholder = anon ? '익명 모드' : '닉네임';
        if(el === storyCode) el.placeholder = anon ? '익명 모드' : '고번 (예: 251)';
      });
    }
    setAnon(false);
    updateAnonUI();
    anonSwitch.addEventListener('click', ()=> setAnon(!anonSwitch.classList.contains('active')));
    anonSwitch.addEventListener('keydown', (e)=>{ if(e.key===' '||e.key==='Enter'){ e.preventDefault(); setAnon(!anonSwitch.classList.contains('active')); }});

    /* ---- 제출 ---- */
    storyForm?.addEventListener("submit", async (e)=>{
      e.preventDefault();
      const isAnon = anonSwitch.classList.contains('active');
      // ✅ 익명이면 닉/고번 저장하지 않음
      const nick  = isAnon ? "" : (storyNick.value||"").trim();
      const code  = isAnon ? "" : (storyCode.value||"").trim();
      const title = (storyTitle.value||"").trim();
      const body  = (storyBody.value||"").trim();
      const song  = (storySong.value||"").trim();
      const category = storyCategory.value || "";

      if(!title || !body || !category){
        storyMsg.textContent = "카테고리/제목/내용은 필수입니다.";
        storyMsg.style.color = "#dc2626";
        return;
      }
      if(!isAnon && !nick && !code){
        storyMsg.textContent = "익명이 아니면 닉네임 또는 고번을 입력하세요.";
        storyMsg.style.color = "#dc2626";
        return;
      }

      storyForm.querySelector("button[type=submit]").disabled = true;
      storyMsg.textContent = "전송 중...";
      storyMsg.style.color = "#6b7280";
      try{
        await addDoc(storiesRef, { isAnon, nick, code, title, body, song, category, createdAt: serverTimestamp() });
        storyMsg.textContent = "사연이 접수되었습니다! 감사합니다.";
        storyMsg.style.color = "#16a34a";
        storyTitle.value = "";
        storyBody.value = "";
        storySong.value = "";
        // 카테고리/익명 설정은 유지
      }catch(err){
        storyMsg.textContent = "사연 전송 실패: " + (err?.message||err);
        storyMsg.style.color = "#dc2626";
      }finally{
        storyForm.querySelector("button[type=submit]").disabled = false;
      }
    });

    /* ---- 최신 사연 구독 + 렌더러 ---- */
    function fmtTime(ts){
      try{
        const d = ts?.toDate ? ts.toDate() : (ts instanceof Date ? ts : new Date());
        const y = d.getFullYear(), m = ('0'+(d.getMonth()+1)).slice(-2), da=('0'+d.getDate()).slice(-2);
        const hh=('0'+d.getHours()).slice(-2), mm=('0'+d.getMinutes()).slice(-2);
        return `${y}.${m}.${da} ${hh}:${mm}`;
      }catch{ return ""; }
    }

    function renderStoryList(){
      const filterCat = storyFilter?.value || "";
      const all = Array.from(storyMap.values());
      const arr = all.filter(s=> !filterCat || s.category === filterCat);

      if(arr.length===0){
        storyList.innerHTML = `<li class="story-empty">아직 등록된 사연이 없습니다.</li>`;
        return;
      }
      storyList.innerHTML = arr.map(s=>{
        const who  = s.isAnon ? '익명' : (s.nick || '—');
        const code = (!s.isAnon && s.code) ? ` (${s.code})` : '';
        const song = s.song ? ` · 🎵 ${s.song}` : '';
        return `
          <li class="story-item" data-id="${s.id}">
            <div class="left">
              <span class="badge">${s.category||'기타'}</span>
              <div style="display:flex;flex-direction:column;min-width:0">
                <div class="title">${s.title||'(제목 없음)'}</div>
                <div class="meta">${who}${code} · ${s._time || ''}${song}</div>
              </div>
            </div>
            <div class="meta">보기 ▸</div>
          </li>
        `;
      }).join('');

      storyList.querySelectorAll('.story-item').forEach(li=>{
        li.addEventListener('click', ()=> openStory(li.getAttribute('data-id')));
      });
    }

    const qLatest = query(storiesRef, orderBy('createdAt','desc'), limit(50));
    onSnapshot(qLatest, (snap)=>{
      storyMap.clear();
      snap.forEach(doc=>{
        const s = { id: doc.id, ...doc.data() };
        s._time = s.createdAt ? fmtTime(s.createdAt) : '';
        storyMap.set(s.id, s);
      });
      renderStoryList();
    });

    storyFilter?.addEventListener('change', renderStoryList);

    function scrollToMarket(id){
      const el = document.getElementById(id);
      if(el){
        el.scrollIntoView({behavior:"smooth", block:"start"});
      }
    }
    window.scrollToMarket = scrollToMarket;
  </script>
</body>
</html>















































